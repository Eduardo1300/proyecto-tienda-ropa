// Mapeo de productos con imágenes de Unsplash apropiadas
export const productImageMap: Record<string, string[]> = {
  // Ropa masculina
  camiseta: [
    'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop&crop=center', // Camiseta blanca básica
    'https://images.unsplash.com/photo-1583743814966-8936f37f4678?w=400&h=400&fit=crop&crop=center', // Camiseta negra
    'https://images.unsplash.com/photo-1571945153237-4929e783af4a?w=400&h=400&fit=crop&crop=center', // Camiseta gris
  ],
  'camiseta básica': [
    'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop&crop=center', // Camiseta blanca básica
    'https://images.unsplash.com/photo-1583743814966-8936f37f4678?w=400&h=400&fit=crop&crop=center', // Camiseta negra
    'https://images.unsplash.com/photo-1571945153237-4929e783af4a?w=400&h=400&fit=crop&crop=center', // Camiseta gris
  ],
  jeans: [
    'https://images.unsplash.com/photo-1542272604-787c3835535d?w=400&h=400&fit=crop&crop=center', // Jeans azul clásico
    'https://images.unsplash.com/photo-1506629905607-baa04bbfdcbb?w=400&h=400&fit=crop&crop=center', // Jeans doblado
    'https://images.unsplash.com/photo-1475178626620-a4d074967452?w=400&h=400&fit=crop&crop=center', // Jeans negro
  ],
  'jeans clásicos': [
    'https://images.unsplash.com/photo-1542272604-787c3835535d?w=400&h=400&fit=crop&crop=center', // Jeans azul clásico
    'https://images.unsplash.com/photo-1506629905607-baa04bbfdcbb?w=400&h=400&fit=crop&crop=center', // Jeans doblado
    'https://images.unsplash.com/photo-1475178626620-a4d074967452?w=400&h=400&fit=crop&crop=center', // Jeans negro
  ],
  chaqueta: [
    'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400&h=400&fit=crop&crop=center', // Chaqueta de cuero
    'https://images.unsplash.com/photo-1567401893414-76b7b1e5a7a5?w=400&h=400&fit=crop&crop=center', // Chaqueta denim
    'https://images.unsplash.com/photo-1544966503-7cc5ac882d5c?w=400&h=400&fit=crop&crop=center', // Chaqueta casual
  ],
  'chaqueta denim': [
    'https://images.unsplash.com/photo-1567401893414-76b7b1e5a7a5?w=400&h=400&fit=crop&crop=center', // Chaqueta denim
    'https://images.unsplash.com/photo-1544966503-7cc5ac882d5c?w=400&h=400&fit=crop&crop=center', // Chaqueta casual
    'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400&h=400&fit=crop&crop=center', // Chaqueta de cuero
  ],
  pantalon: [
    'https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=400&h=400&fit=crop&crop=center', // Pantalón formal
    'https://images.unsplash.com/photo-1506629905607-baa04bbfdcbb?w=400&h=400&fit=crop&crop=center', // Pantalón casual
  ],
  
  // Ropa femenina
  vestido: [
    'https://images.unsplash.com/photo-1566479179817-c0cede0c15b6?w=400&h=400&fit=crop&crop=center', // Vestido negro elegante
    'https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=400&h=400&fit=crop&crop=center', // Vestido floral
    'https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?w=400&h=400&fit=crop&crop=center', // Vestido casual
  ],
  blusa: [
    'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop&crop=center', // Blusa floral
    'https://images.unsplash.com/photo-1604176354204-9268737828e4?w=400&h=400&fit=crop&crop=center', // Blusa blanca
    'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=400&h=400&fit=crop&crop=center', // Blusa elegante
  ],
  'blusa floral': [
    'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop&crop=center', // Blusa floral
    'https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=400&h=400&fit=crop&crop=center', // Vestido floral
    'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=400&h=400&fit=crop&crop=center', // Blusa elegante
  ],
  falda: [
    'https://images.unsplash.com/photo-1583496661160-fb5886a13d44?w=400&h=400&fit=crop&crop=center', // Falda midi
    'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=400&h=400&fit=crop&crop=center', // Falda lápiz
    'https://images.unsplash.com/photo-1564557287817-3785e38ec2ce?w=400&h=400&fit=crop&crop=center', // Falda casual
  ],
  'falda midi': [
    'https://images.unsplash.com/photo-1583496661160-fb5886a13d44?w=400&h=400&fit=crop&crop=center', // Falda midi
    'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=400&h=400&fit=crop&crop=center', // Falda lápiz
    'https://images.unsplash.com/photo-1564557287817-3785e38ec2ce?w=400&h=400&fit=crop&crop=center', // Falda casual
  ],
  
  // Calzado
  zapatillas: [
    'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=400&fit=crop&crop=center', // Zapatillas deportivas blancas
    'https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=400&h=400&fit=crop&crop=center', // Zapatillas negras
    'https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=400&h=400&fit=crop&crop=center', // Zapatillas coloridas
  ],
  'zapatillas deportivas': [
    'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=400&fit=crop&crop=center', // Zapatillas deportivas blancas
    'https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=400&h=400&fit=crop&crop=center', // Zapatillas negras
    'https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=400&h=400&fit=crop&crop=center', // Zapatillas coloridas
  ],
  zapatos: [
    'https://images.unsplash.com/photo-1533867617858-e7b97e060509?w=400&h=400&fit=crop&crop=center', // Zapatos formales
    'https://images.unsplash.com/photo-1560769629-975ec94e6a86?w=400&h=400&fit=crop&crop=center', // Zapatos de cuero
    'https://images.unsplash.com/photo-1608231387042-66d1773070a5?w=400&h=400&fit=crop&crop=center', // Zapatos casuales
  ],
  botas: [
    'https://images.unsplash.com/photo-1605812860427-4024433a70fd?w=400&h=400&fit=crop&crop=center', // Botas de cuero
    'https://images.unsplash.com/photo-1541963463532-d68292c34d19?w=400&h=400&fit=crop&crop=center', // Botas casual
  ],
  
  // Accesorios
  bolso: [
    'https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=400&h=400&fit=crop&crop=center', // Bolso de cuero
    'https://images.unsplash.com/photo-1564422170194-896b89110ef8?w=400&h=400&fit=crop&crop=center', // Bolso elegante
    'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=400&fit=crop&crop=center', // Bolso casual
  ],
  'bolso de cuero': [
    'https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=400&h=400&fit=crop&crop=center', // Bolso de cuero
    'https://images.unsplash.com/photo-1564422170194-896b89110ef8?w=400&h=400&fit=crop&crop=center', // Bolso elegante
    'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=400&fit=crop&crop=center', // Bolso casual
  ],
  mochila: [
    'https://images.unsplash.com/photo-1581605405669-fcdf81983e1a?w=400&h=400&fit=crop&crop=center', // Mochila de cuero
    'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop&crop=center', // Mochila casual
  ],
  gafas: [
    'https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=400&h=400&fit=crop&crop=center', // Gafas de sol
    'https://images.unsplash.com/photo-1473496169904-658ba7c44d8a?w=400&h=400&fit=crop&crop=center', // Gafas elegantes
  ],
  reloj: [
    'https://images.unsplash.com/photo-1524805444758-089113d48a6d?w=400&h=400&fit=crop&crop=center', // Reloj elegante
    'https://images.unsplash.com/photo-1533139502658-0198f920d8e8?w=400&h=400&fit=crop&crop=center', // Reloj deportivo
  ],
  cinturon: [
    'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop&crop=center', // Cinturón de cuero
    'https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?w=400&h=400&fit=crop&crop=center', // Cinturón casual
  ],
};

// Mapeo por categoría como fallback
export const categoryImageMap: Record<string, string[]> = {
  hombre: [
    'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop&crop=center', // Ropa masculina general
    'https://images.unsplash.com/photo-1542272604-787c3835535d?w=400&h=400&fit=crop&crop=center',
    'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400&h=400&fit=crop&crop=center',
  ],
  mujer: [
    'https://images.unsplash.com/photo-1566479179817-c0cede0c15b6?w=400&h=400&fit=crop&crop=center', // Ropa femenina general
    'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop&crop=center',
    'https://images.unsplash.com/photo-1583496661160-fb5886a13d44?w=400&h=400&fit=crop&crop=center',
  ],
  zapatos: [
    'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=400&fit=crop&crop=center',
    'https://images.unsplash.com/photo-1533867617858-e7b97e060509?w=400&h=400&fit=crop&crop=center',
    'https://images.unsplash.com/photo-1560769629-975ec94e6a86?w=400&h=400&fit=crop&crop=center',
  ],
  accesorios: [
    'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop&crop=center',
    'https://images.unsplash.com/photo-1564422170194-896b89110ef8?w=400&h=400&fit=crop&crop=center',
    'https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=400&h=400&fit=crop&crop=center',
  ],
};

// Función para obtener una imagen apropiada basada en el nombre y categoría del producto
export const getProductImage = (productName: string, category: string, existingImage?: string): string => {
  const normalizedName = productName.toLowerCase().trim();
  
  // Buscar por palabras clave en el nombre del producto
  for (const [keyword, images] of Object.entries(productImageMap)) {
    if (normalizedName.includes(keyword)) {
      // Seleccionar una imagen aleatoria del array
      const randomIndex = Math.floor(Math.random() * images.length);
      return images[randomIndex];
    }
  }
  
  // Si no se encuentra por nombre, usar la categoría
  const normalizedCategory = category.toLowerCase().trim();
  if (categoryImageMap[normalizedCategory]) {
    const images = categoryImageMap[normalizedCategory];
    const randomIndex = Math.floor(Math.random() * images.length);
    return images[randomIndex];
  }
  
  // Si no se encuentra nada y hay imagen existente, usarla como fallback
  if (existingImage && existingImage.trim() !== '') {
    return existingImage;
  }
  
  // Imagen por defecto si no se encuentra nada
  return 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=400&fit=crop&crop=center';
};

// Función para obtener múltiples imágenes para la galería de un producto
export const getProductImages = (productName: string, category: string, count: number = 4): string[] => {
  const normalizedName = productName.toLowerCase().trim();
  const images: string[] = [];
  
  // Buscar por palabras clave en el nombre del producto
  for (const [keyword, keywordImages] of Object.entries(productImageMap)) {
    if (normalizedName.includes(keyword)) {
      images.push(...keywordImages);
      break;
    }
  }
  
  // Si no hay suficientes imágenes, agregar de la categoría
  if (images.length < count) {
    const normalizedCategory = category.toLowerCase().trim();
    if (categoryImageMap[normalizedCategory]) {
      images.push(...categoryImageMap[normalizedCategory]);
    }
  }
  
  // Si aún no hay suficientes, agregar imágenes genéricas
  if (images.length < count) {
    images.push(
      'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=400&fit=crop&crop=center',
      'https://images.unsplash.com/photo-1472851294608-062f824d29cc?w=400&h=400&fit=crop&crop=center',
      'https://images.unsplash.com/photo-1483985988355-763728e1935b?w=400&h=400&fit=crop&crop=center',
      'https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&h=400&fit=crop&crop=center'
    );
  }
  
  // Remover duplicados y seleccionar solo la cantidad requerida
  const uniqueImages = Array.from(new Set(images));
  return uniqueImages.slice(0, count);
};
